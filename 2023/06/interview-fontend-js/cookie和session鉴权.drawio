<mxfile host="Electron" modified="2023-07-01T00:10:51.939Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.5.1 Chrome/112.0.5615.204 Electron/24.6.0 Safari/537.36" etag="V4vOGyDkb5kuSYa4ysmw" version="21.5.1" type="device" pages="3">
  <diagram name="传统cookie验证" id="vfPyicQstSvgQ4UN1wku">
    <mxGraphModel dx="954" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="wSobh4kacqRAjcaHUiz1-1" value="浏览器" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="270" y="140" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="wSobh4kacqRAjcaHUiz1-1">
          <mxGeometry x="45" y="60" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="wSobh4kacqRAjcaHUiz1-1">
          <mxGeometry x="45" y="120" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-4" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="wSobh4kacqRAjcaHUiz1-1">
          <mxGeometry x="45" y="220" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-5" value="服务器" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="414" y="140" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-6" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="wSobh4kacqRAjcaHUiz1-5">
          <mxGeometry x="45" y="60" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-7" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;" vertex="1" parent="wSobh4kacqRAjcaHUiz1-5">
          <mxGeometry x="45" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-8" value="判断：Cookie没有用户信息&lt;br&gt;动作：请求中没有Cookie请求头" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="110" y="200" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-9" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#A8201A;fontColor=default;" edge="1" parent="1" source="wSobh4kacqRAjcaHUiz1-2" target="wSobh4kacqRAjcaHUiz1-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="260" as="sourcePoint" />
            <mxPoint x="410" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-10" value="发送用户填写的登录信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#143642;" vertex="1" connectable="0" parent="wSobh4kacqRAjcaHUiz1-9">
          <mxGeometry x="0.2239" y="1" relative="1" as="geometry">
            <mxPoint x="-17" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-11" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#A8201A;fontColor=default;" edge="1" parent="1" source="wSobh4kacqRAjcaHUiz1-6" target="wSobh4kacqRAjcaHUiz1-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="330" as="sourcePoint" />
            <mxPoint x="390" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-12" value="响应登录请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#143642;" vertex="1" connectable="0" parent="wSobh4kacqRAjcaHUiz1-11">
          <mxGeometry x="0.5647" relative="1" as="geometry">
            <mxPoint x="36" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-13" value="动作1: 验证登录信息&lt;br&gt;动作2: 将用户信息添加到Set-Cookie相应头" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="480" y="215" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-14" value="判断：接收到Set-Cookie相应头&lt;br&gt;动作：将Cookie存储到浏览器" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="85" y="283" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-15" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#A8201A;fontColor=default;" edge="1" parent="1" source="wSobh4kacqRAjcaHUiz1-3" target="wSobh4kacqRAjcaHUiz1-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="370" as="sourcePoint" />
            <mxPoint x="410" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-16" value="发送业务请求，带Cookie数据在请求头" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#143642;" vertex="1" connectable="0" parent="wSobh4kacqRAjcaHUiz1-15">
          <mxGeometry x="-0.8383" y="-2" relative="1" as="geometry">
            <mxPoint x="64" y="-19" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-17" value="动作: 验证请求头的Cookie中有用户信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#143642;" vertex="1" parent="1">
          <mxGeometry x="470" y="340" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-18" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#A8201A;fontColor=default;" edge="1" parent="1" source="wSobh4kacqRAjcaHUiz1-7" target="wSobh4kacqRAjcaHUiz1-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="420" as="sourcePoint" />
            <mxPoint x="430" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSobh4kacqRAjcaHUiz1-19" value="响应业务请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#143642;" vertex="1" connectable="0" parent="wSobh4kacqRAjcaHUiz1-18">
          <mxGeometry x="0.4652" y="2" relative="1" as="geometry">
            <mxPoint x="29" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="TRe76Z_cT88Yy6bhVlbL" name="session验证">
    <mxGraphModel dx="795" dy="562" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="PbefdpNf8q4evaiusAF8-1" value="浏览器" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="270" y="140" width="100" height="390" as="geometry" />
        </mxCell>
        <mxCell id="CXMVCY4P_kOrWewMIdJ0-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-1">
          <mxGeometry x="45" y="70" width="10" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-8" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-1">
          <mxGeometry x="45" y="120" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QtsPs-l09SFle1otZiAa-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-1">
          <mxGeometry x="45" y="240" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="PbefdpNf8q4evaiusAF8-2" value="服务器" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="414" y="140" width="100" height="370" as="geometry" />
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-2">
          <mxGeometry x="45" y="70" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Lz3ghxkpgLzvRvjjQlJP-2" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-2">
          <mxGeometry x="46" y="190" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SZRjrdMSmsgoEImrJcPq-1" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="PbefdpNf8q4evaiusAF8-2">
          <mxGeometry x="46" y="290" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-1" value="判断：浏览器没有Cookie&lt;br&gt;动作：请求中没有Cookie请求头" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="200" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-4" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="CXMVCY4P_kOrWewMIdJ0-2" target="zc8_oNYXCxddjdJIgD0M-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="270" as="sourcePoint" />
            <mxPoint x="450" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-6" value="第一次HTTP请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="zc8_oNYXCxddjdJIgD0M-4">
          <mxGeometry x="-0.602" y="-1" relative="1" as="geometry">
            <mxPoint x="38" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-7" value="判断：Cookie请求头中没有SessionID&lt;br&gt;动作1: 创建会话唯一标识SessionID&lt;br&gt;动作2：创建SessionID关联的数据对象&lt;br&gt;动作3：把Session ID添加到Set-Cookie响应头" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="470" y="210" width="270" height="70" as="geometry" />
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-9" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="zc8_oNYXCxddjdJIgD0M-2" target="zc8_oNYXCxddjdJIgD0M-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="340" as="sourcePoint" />
            <mxPoint x="420" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-10" value="第一次HTTP响应" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="zc8_oNYXCxddjdJIgD0M-9">
          <mxGeometry x="0.8134" y="-2" relative="1" as="geometry">
            <mxPoint x="53" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zc8_oNYXCxddjdJIgD0M-11" value="判断：接收到Set-Cookie响应头&lt;br&gt;动作：将Cookie存储到浏览器" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="110" y="280" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1FB7Rpue6nmZp2fXQ_aW-1" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="zc8_oNYXCxddjdJIgD0M-8" target="Lz3ghxkpgLzvRvjjQlJP-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="330" as="sourcePoint" />
            <mxPoint x="420" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1FB7Rpue6nmZp2fXQ_aW-2" value="发送用户填写的登录信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="1FB7Rpue6nmZp2fXQ_aW-1">
          <mxGeometry x="0.0494" relative="1" as="geometry">
            <mxPoint y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QtsPs-l09SFle1otZiAa-1" value="判断：Cookie请求头中有SessionID&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;动作1: 验证登录信息&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;动作2: 将用户信息添加到SessionID对应的数据对象" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="490" y="343" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jLHbS5JsV9FYbQT-CYqd-1" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="Lz3ghxkpgLzvRvjjQlJP-2" target="QtsPs-l09SFle1otZiAa-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="440" as="sourcePoint" />
            <mxPoint x="420" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8OFCAqRaF0g9IdHI8kR2-1" value="响应登录请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="jLHbS5JsV9FYbQT-CYqd-1">
          <mxGeometry x="-0.0864" y="-3" relative="1" as="geometry">
            <mxPoint x="-8" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SZRjrdMSmsgoEImrJcPq-2" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="QtsPs-l09SFle1otZiAa-2" target="SZRjrdMSmsgoEImrJcPq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="480" as="sourcePoint" />
            <mxPoint x="400" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SZRjrdMSmsgoEImrJcPq-3" value="发送业务请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="SZRjrdMSmsgoEImrJcPq-2">
          <mxGeometry x="-0.2593" relative="1" as="geometry">
            <mxPoint x="15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SZRjrdMSmsgoEImrJcPq-4" value="判断：Cookie请求头中有SessionID&lt;br&gt;动作：根据SessionID找到对应的Session对象" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="489" y="435" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_FrW4VdJznpi2yyf84S4-1" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="315" y="475" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_FrW4VdJznpi2yyf84S4-2" value="" style="endArrow=classic;html=1;rounded=0;labelBackgroundColor=none;strokeColor=#E07A5F;fontColor=default;" edge="1" parent="1" source="SZRjrdMSmsgoEImrJcPq-1" target="_FrW4VdJznpi2yyf84S4-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="550" as="sourcePoint" />
            <mxPoint x="400" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JEIV5H8-zAH2C_rZFMv0-1" value="响应业务请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;fontColor=#393C56;rounded=0;" vertex="1" connectable="0" parent="_FrW4VdJznpi2yyf84S4-2">
          <mxGeometry x="0.358" y="-1" relative="1" as="geometry">
            <mxPoint x="22" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="dnsCGvmIMbAWeCZC5ZI5" name="缓存">
    <mxGraphModel dx="1363" dy="963" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-1" target="SJau_vkAeEHgY6uhTd_Q-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-1" value="资源请求&lt;br&gt;http://a.cn/b.png?t=123" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="340" y="190" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-3" target="SJau_vkAeEHgY6uhTd_Q-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-11" value="没有缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-8">
          <mxGeometry x="0.1529" y="-3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-3" target="SJau_vkAeEHgY6uhTd_Q-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-14" value="有缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-13">
          <mxGeometry x="0.653" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-3" value="根据URL判断&lt;br&gt;是否有缓存" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="333.75" y="280" width="162.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-5" target="SJau_vkAeEHgY6uhTd_Q-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-5" value="向服务器发送请求" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-6" target="SJau_vkAeEHgY6uhTd_Q-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-6" value="服务器返回资源" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-7" value="渲染页面" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-12" target="SJau_vkAeEHgY6uhTd_Q-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-21" value="没有过期" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-18">
          <mxGeometry x="0.5067" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-12" target="SJau_vkAeEHgY6uhTd_Q-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-24" value="已过期" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-23">
          <mxGeometry x="0.5668" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-12" value="缓存是否过期" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="350" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-15" value="如果上一次请求，服务器返回的响应头里有Cache-Control: max-age=300(秒)，则表示走强缓存。" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="590" y="220" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-16" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-12" target="SJau_vkAeEHgY6uhTd_Q-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="380" as="sourcePoint" />
            <mxPoint x="700" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-17" target="SJau_vkAeEHgY6uhTd_Q-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-20" value="强缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-19">
          <mxGeometry x="-0.512" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-17" value="读取缓存" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="355" y="430" width="145" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-22" target="SJau_vkAeEHgY6uhTd_Q-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="480" />
              <mxPoint x="520" y="700" />
              <mxPoint x="180" y="700" />
              <mxPoint x="180" y="425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-27" value="没有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-25">
          <mxGeometry x="-0.7556" relative="1" as="geometry">
            <mxPoint y="-46" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-22" target="SJau_vkAeEHgY6uhTd_Q-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-32" value="有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-31">
          <mxGeometry x="0.6258" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-22" value="上一次请求的响应头里&lt;br&gt;是否有Last-Modified,ETag" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="430" width="203" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-30" target="SJau_vkAeEHgY6uhTd_Q-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-30" value="向服务器发送请求，请求头里带着&lt;br&gt;上一次相应头里的Last-Modified,ETag" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="550" width="210" height="90" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;jumpStyle=arc;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-33" target="SJau_vkAeEHgY6uhTd_Q-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="370" y="720" />
              <mxPoint x="370" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-38" value="缓存不可用&lt;br&gt;200状态码" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-37">
          <mxGeometry x="-0.63" y="-2" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;jumpStyle=arc;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-33" target="SJau_vkAeEHgY6uhTd_Q-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="970" y="720" />
              <mxPoint x="970" y="770" />
              <mxPoint x="270" y="770" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-40" value="缓存可用&lt;br&gt;304状态" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="SJau_vkAeEHgY6uhTd_Q-39">
          <mxGeometry x="-0.9151" y="2" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-33" value="服务器判断是否可以&lt;br&gt;继续使用本地缓存" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="692.5" y="680" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-34" value="Last-Modified是一个精确到秒的时间，ETag是文件唯一标识" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="753" y="370" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-35" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-22" target="SJau_vkAeEHgY6uhTd_Q-34">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="410" as="sourcePoint" />
            <mxPoint x="840" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-41" value="优先使用ETag判断，因为&lt;br&gt;Last-Modifed可能被人为修改" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="600" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SJau_vkAeEHgY6uhTd_Q-42" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="SJau_vkAeEHgY6uhTd_Q-33" target="SJau_vkAeEHgY6uhTd_Q-41">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="710" as="sourcePoint" />
            <mxPoint x="1090" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
